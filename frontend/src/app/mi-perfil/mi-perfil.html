<app-nav></app-nav>

<div class="container mt-4">

  <!-- PERFIL DEL USUARIO -->
  <div class="text-center mb-4 p-3 border rounded bg-light">
    <img 
      [src]="usuario.imagenPerfil" 
      alt="Foto de perfil" 
      width="120" 
      height="120"
      class="rounded-circle border border-3 border-primary mb-2"
      style="object-fit: cover;"
    />
    <h2 class="mb-1">{{ usuario.username }}</h2>
    <p class="mb-0 text-muted">{{ usuario.nombre }} {{ usuario.apellido }}</p>
    <p class="mb-0"><strong>Email:</strong> {{ usuario.email }}</p>
    <p class="mt-2">{{ usuario.descripcion }}</p>
  </div>

  <!-- PUBLICACIONES -->
  <div class="publicaciones">
    @for (pub of publicaciones; track pub._id) {
      <div class="card mb-3 shadow-sm">
        <div class="card-body">

          <div class="d-flex justify-content-between align-items-center mb-2">
            <p class="mb-0 fw-bold text-primary">@{{ pub.usuario }}</p>
            <small class="text-muted">{{ pub.fecha }}</small>
          </div>

          <h4 class="card-title mb-2">{{ pub.titulo }}</h4>
          <p class="card-text mb-3">{{ pub.descripcion }}</p>

          @if (pub.imagenUrl) {
            <div class="text-center mb-3">
              <img 
                [src]="pub.imagenUrl" 
                alt="Imagen de publicación" 
                class="img-fluid rounded"
                style="max-height: 300px; object-fit: cover;"
              />
            </div>
          }

          <!-- Likes -->
          <div class="d-flex align-items-center gap-2">
            <span class="fs-5">❤️</span>
            <span>{{ pub.likes }}</span>
          </div>

        </div>
      </div>
    }
  </div>
</div>
